<html>
<head>
	<script>
        var head;
        var food;
        
    	function start() {
        	head = new component(0,0,10,10);
            spawnFood();
            //interval = setInterval(updateGame, 200);
        }
        
        function component(x,y,w,h) {
        	this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.getX = function() { return x; }
            this.getY = function() { return y; }
            this.velX = 0;
            this.velY = 0;
            this.setVelX = function(v) { 
            	velX = v;
                velY = 0;
            }
            this.setVelY = function(v) { 
            	velY = v;
                velX = 0;
            }
            this.update = function() {
            	document.getElementById('demo').innerHTML = x;
            	if(x < 0 || x > 290) {x -= velX; velX = 0;}
                document.getElementById('test').innerHTML = y;
                if(y < 0 || y > 290) {y -= velY; velY = 0;}
                x += velX;
                y += velY;
            }
            this.draw = function() {
				canvas = document.getElementById('canvas');
                ctx = canvas.getContext('2d');
                ctx.fillStyle = 'rgb(50,150,75)';
                ctx.fillRect(x,y,w,h);
			}
            this.clear = function() { 
            	canvas = document.getElementById('canvas');
                ctx = canvas.getContext('2d');
                ctx.clearRect(0,0,canvas.width,canvas.height);
            }
        }
        
        function changeVelX(v) { head.setVelX(v); }
		function changeVelY(v) { head.setVelY(v); }
        
        function eat() { 
        	dx = Math.floor(Math.abs(food.getX()-head.getX()));
            dy = Math.floor(Math.abs(food.getY()-head.getY()));
            if(dx < 10 && dy < 10) spawnFood();
        }
        
        function spawnFood() {
        	rx = Math.floor(Math.random()*30)*10;
            ry = Math.floor(Math.random()*30)*10;
			food = new component(rx,ry,10,10);
		}
        
        function updateGame() {
        	eat();
        	head.clear();
			head.update();
            head.draw();
            food.draw();
		}
    </script>
    <style>
    	canvas { border : 1px solid black; }
    </style>
</head>
<body onload="start();">
	<canvas id="canvas" width="300" height="300">
    	This does not work
    </canvas>
    <p id="demo">Testing</p>
    <p id="test">Another Test</p>
    <button onclick="changeVelY(-10)">UP</button>
    <button onclick="changeVelY(10)">DOWN</button>
    <button onclick="changeVelX(-10)">LEFT</button>
    <button onclick="changeVelX(10)">RIGHT</button>
</body>
</html>
